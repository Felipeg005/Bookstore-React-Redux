(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(17),a=n.n(o),s=(n(35),n(16)),i=n(3),u=n(8),b=n(20),l=n(26),j=n(27),d=n.n(j),h=n(9),O=n.n(h),p=n(24),f=n(19),m=n(30),x="bookStore/books/ADD_BOOK",k="bookStore/books/REMOVE_BOOK",v="bookStore/books/GET_BOOKS",y="https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/4dkScpJEBinEhk7DfZib/books",g=[],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=[].concat(Object(m.a)(e),[t.payload]);return n;case k:var c=e.filter((function(e){return e.id!==Number(t.payload.item_id)}));return window.location.reload(),c;case v:return t.state;default:return e}},S=Object(b.b)({booksReducer:N}),w=Object(b.c)(S,Object(b.a)(d.a,l.a)),E=n(11),B=n(12),R=n(14),C=n(13),_=n(28),T=n(1),A=function(){var e=Object(u.b)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{className:"form-title",children:"Add New"}),Object(T.jsxs)("form",{className:"form",onSubmit:function(t){var n=JSON.parse(localStorage.getItem("bookStorage"));n||(n=[]);var c,r={item_id:Object(_.uuid)(),title:t.target[0].value,author:t.target[1].value,category:"fiction"};e((c=r,function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y,{method:"POST",body:new URLSearchParams(c)});case 2:t({type:x,payload:c});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(T.jsx)("input",{type:"text",required:!0,maxLength:"30",placeholder:"Title"}),Object(T.jsx)("input",{type:"text",required:!0,maxLength:"30",placeholder:"Author"}),Object(T.jsx)("button",{type:"submit",children:"Submit"})]})]})},D=function(e){var t=e.bookId,n=e.bookTitle,c=e.bookAuthor,r=e.bookClassName,o=Object(u.b)();return Object(T.jsxs)("li",{id:t,className:r,children:[Object(T.jsx)("h2",{className:"books-title",children:n}),Object(T.jsx)("h3",{className:"books-author",children:c}),Object(T.jsx)("button",{id:t,className:"delete-button",onClick:function(e){var t,n={item_id:e.target.id};o((t=n,function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/4dkScpJEBinEhk7DfZib/books/".concat(t.item_id),{method:"DELETE"});case 2:n({type:k,payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"Delete"})]})},F=function(){var e=Object(u.b)();Object(c.useEffect)((function(){e(function(){var e=Object(f.a)(O.a.mark((function e(t){var n,c,r,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,r=Object.keys(c),o=[],r.forEach((function(e){o.push(Object(p.a)(Object(p.a)({},c[e][0]),{},{item_id:e}))})),t({type:v,state:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(u.c)((function(e){return e}));return Object(T.jsx)("div",{className:"list-container",children:Object(T.jsx)("ul",{className:"list-elements",children:t.booksReducer.map((function(e){return Object(T.jsx)(D,{bookId:e.item_id,bookTitle:e.title,bookAuthor:e.author,bookClassName:"book-container"},e.item_id)}))})})},L=function(e){Object(R.a)(n,e);var t=Object(C.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{}),Object(T.jsx)(A,{})]})}}]),n}(r.a.Component),I=L,J=function(e){Object(R.a)(n,e);var t=Object(C.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{children:"Under Construction"})})}}]),n}(r.a.Component),P=J,K=function(e){Object(R.a)(n,e);var t=Object(C.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return Object(T.jsxs)("nav",{className:this.props.class,children:[Object(T.jsx)("h1",{className:"logo",children:"BookStore"}),Object(T.jsxs)("ul",{className:"menu-container",children:[Object(T.jsx)(s.b,{to:"/Bookstore-React-Redux/",children:Object(T.jsx)("li",{className:"menu-li",children:"Home"})}),Object(T.jsx)(s.b,{to:"/Bookstore-React-Redux/categories",children:Object(T.jsx)("li",{className:"menu-li",children:"Categories"})})]})]})}}]),n}(r.a.Component),q=K;var M=function(){return Object(T.jsx)(u.a,{store:w,children:Object(T.jsxs)(s.a,{children:[Object(T.jsx)(q,{class:"nav-menu"}),Object(T.jsxs)(i.c,{children:[Object(T.jsx)(i.a,{path:"/Bookstore-React-Redux/",exact:!0,component:I}),Object(T.jsx)(i.a,{path:"/Bookstore-React-Redux/categories",component:P})]})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(M,{})}),document.getElementById("root")),U()}},[[47,1,2]]]);
//# sourceMappingURL=main.26b2cc1f.chunk.js.map